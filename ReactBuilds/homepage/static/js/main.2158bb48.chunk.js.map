{"version":3,"sources":["home/Header.jsx","home/EndpointSelection.jsx","home/SearchForm.jsx","home/SearchResults.jsx","home/Home.jsx","index.jsx"],"names":["Header","props","Navbar","variant","id","Brand","href","Nav","className","Link","Form","inline","Label","Control","as","size","value","language","onChange","event","setLanguage","target","sessionStorage","setItem","EndpointSelection","useState","endpointUrl","inputEndpointUrl","setInputEndpointUrl","message","elementId","show","setMessage","showMessage","timeToShowInMill","setTimeout","onSubmit","preventDefault","alert","setEndpointUrl","getEndpointTypes","InputGroup","type","name","placeholder","Append","Button","SearchForm","isLoading","setIsLoading","resourceType","setResourceType","search","setSearch","searchType","setSearchType","suggestions","setSuggestions","request","setRequest","radioProps","string","a","setResourcesList","axiosSource","axios","CancelToken","source","get","cancelToken","token","then","response","console","log","data","catch","error","useEffect","endpointTypes","radioChangeHandler","window","location","suggestList","map","el","i","onClick","resource","label","Container","fluid","Row","style","marginRight","textAlign","Check","checked","Col","md","span","offset","sm","Dropdown","float","Toggle","Menu","CustomMenu","Item","xs","autoComplete","autoFocus","cancel","length","autocompleteSearch","Spinner","animation","role","React","forwardRef","ref","children","labeledBy","setValue","aria-labelledby","FormControl","e","Children","toArray","filter","child","toLowerCase","includes","SearchResults","resourcesList","comment","App","getItem","setEndpointTypes","sessionLanguage","sessionEndpoint","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2158bb48.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Navbar from \"react-bootstrap/Navbar\"; //Navbar\r\nimport Nav from \"react-bootstrap/Nav\"; //Nav\r\nimport Form from \"react-bootstrap/Form\"; //Form\r\n\r\nexport default function Header(props) {\r\n\t// Funzione che viene chiamata quando l'utente cambia lingua.\r\n\tfunction changeHandler(event) {\r\n\t\t// Viene memorizzata la lingua nel SessionStorage\r\n\t\tprops.setLanguage(event.target.value);\r\n\t\tsessionStorage.setItem(\"language\", event.target.value);\r\n\t}\r\n\treturn (\r\n\t\t<Navbar variant=\"dark\" id=\"navbar\">\r\n\t\t\t<Navbar.Brand href=\"#home\">Swipe</Navbar.Brand>\r\n\r\n\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t<Nav.Link href=\"#home\">Home</Nav.Link>\r\n\t\t\t\t<Nav.Link href=\"#about\">About</Nav.Link>\r\n\t\t\t</Nav>\r\n\r\n\t\t\t<Form inline id=\"language-select\">\r\n\t\t\t\t<Form.Label>Results' language: </Form.Label>\r\n\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\tid=\"languages\"\r\n\t\t\t\t\tvalue={props.language}\r\n\t\t\t\t\tonChange={changeHandler}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value=\"it\">Italian</option>\r\n\t\t\t\t\t<option value=\"en\">English</option>\r\n\t\t\t\t</Form.Control>\r\n\t\t\t</Form>\r\n\t\t</Navbar>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\"; //Form\r\nimport Button from \"react-bootstrap/Button\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\n\r\nexport default function EndpointSelection(props) {\r\n\tconst [inputEndpointUrl, setInputEndpointUrl] = useState(props.endpointUrl);\r\n\r\n\tconst [message, setMessage] = useState({\r\n\t\tmessage: \"\",\r\n\t\telementId: \"\",\r\n\t\tshow: false,\r\n\t});\r\n\r\n\tfunction showMessage(message, elementId, timeToShowInMill) {\r\n\t\tsetMessage({ message: message, elementId: elementId, show: true });\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetMessage({ message: \"\", elementId: \"\", show: false });\r\n\t\t}, timeToShowInMill);\r\n\t}\r\n\r\n\t// Funzione che permette di modificare l'endpoint da cui eseguire la ricerca\r\n\tfunction changeEndpoint(event) {\r\n\t\tsetInputEndpointUrl(event.target.value);\r\n\t}\r\n\r\n\tfunction applyEndpointChange(event) {\r\n\t\t// Previene il comportamento di default del submit\r\n\t\tevent.preventDefault();\r\n\t\t// Se l'endpoint inserito dall'utente è vuoto viene ripristinato l'endpoint precedente e viene mostrato un alert e un messaggio.\r\n\t\tif (inputEndpointUrl === \"\") {\r\n\t\t\talert(\"Non puoi lasciare questo campo vuoto!\");\r\n\t\t\tsetInputEndpointUrl(props.endpointUrl);\r\n\t\t\tshowMessage(\"Previous endpoint restored.\", \"reset-msg\", 5000);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// Se l'endpoint inserito dall'utente è diverso dall'ultimo endpoint inserito TODO: continuare\r\n\t\tif (inputEndpointUrl !== props.endpointUrl) {\r\n\t\t\tprops.setEndpointUrl(inputEndpointUrl);\r\n\t\t\tshowMessage(\"Enpoint modified successfully!\", \"success-msg\", 5000);\r\n\t\t\tprops.getEndpointTypes(inputEndpointUrl);\r\n\t\t\tsessionStorage.setItem(\"endpoint\", inputEndpointUrl);\r\n\t\t} else {\r\n\t\t\t// Se l'endpoint è uguale al precedente viene mostrato un messaggio di errore.\r\n\t\t\tshowMessage(\r\n\t\t\t\t\"The endpoint you insert is the same of the previous\",\r\n\t\t\t\t\"error-msg\",\r\n\t\t\t\t5000\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={applyEndpointChange} inline>\r\n\t\t\t<InputGroup>\r\n\t\t\t\t<Form.Label>Endpoint URL:</Form.Label>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"endpoint\"\r\n\t\t\t\t\tplaceholder=\"Enter endpoint url\"\r\n\t\t\t\t\tvalue={inputEndpointUrl}\r\n\t\t\t\t\tonChange={changeEndpoint}\r\n\t\t\t\t/>\r\n\t\t\t\t<InputGroup.Append>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tid=\"primary-btn\"\r\n\t\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tApply\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</InputGroup.Append>\r\n\t\t\t</InputGroup>\r\n\t\t\t{message.show && <p id={message.elementId}>{message.message}</p>}\r\n\t\t</Form>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\"; //Form\r\nimport FormControl from \"react-bootstrap/FormControl\"; //FormControl\r\nimport Row from \"react-bootstrap/Row\"; //Row\r\nimport Col from \"react-bootstrap/Col\"; //Col\r\nimport Dropdown from \"react-bootstrap/Dropdown\"; //Dropdown\r\nimport InputGroup from \"react-bootstrap/InputGroup\"; //InputGroup\r\nimport Button from \"react-bootstrap/Button\"; //Button\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nexport default function SearchForm(props) {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [resourceType, setResourceType] = useState(null);\r\n\tconst [search, setSearch] = useState(\"\");\r\n\r\n\tconst [searchType, setSearchType] = useState(\"rdfs:label\");\r\n\tconst [suggestions, setSuggestions] = useState([]);\r\n\t/* Stato utilizzato per salvare il cancelToken della richiesta (per l'autocompletamento della ricerca) precedente\r\n\t ** così da poterla cancellare quando se ne invia un altra */\r\n\tconst [request, setRequest] = useState();\r\n\r\n\tconst radioProps = { inline: true, name: \"searchType\", type: \"radio\" };\r\n\r\n\tfunction changeResourceType(type) {\r\n\t\tsetResourceType(type);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetResourceType(null);\r\n\t}, [props.endpointTypes]);\r\n\r\n\t// Funzione chiamata quando l'utente modifica il valore dell'input per la ricerca\r\n\tfunction changeHandler(event) {\r\n\t\t// Se esiste una richiesta precedente ancora in elaborazione viene cancellata.\r\n\t\tif (request) {\r\n\t\t\tconsole.log(\"CANCELLATO\"); //!DEBUG\r\n\t\t\trequest.cancel(\"axios request cancelled\");\r\n\t\t\tsetRequest(null);\r\n\t\t}\r\n\t\tconst string = event.target.value;\r\n\t\t// Viene impostato il valore dello stato contenente la stringa inserita dall'utente il nuovo valore\r\n\t\tsetSearch(string);\r\n\t\t/* Se la stringa inserita dall'utente è vuota vengono cancellati i suggerimenti precedenti, altrimenti\r\n\t\t ** viene chiamata la funzione che si occupa della richiesta al server per l'autocompletamento della ricerca */\r\n\t\tif (string.length === 0) {\r\n\t\t\tsetSuggestions(null);\r\n\t\t\tsetIsLoading(false);\r\n\t\t} else {\r\n\t\t\tif (searchType !== \"URI\") autocompleteSearch(event.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\t// Funzione che si occupa della richiesta al server per l'autocompletamento\r\n\tasync function autocompleteSearch(string) {\r\n\t\tprops.setResourcesList([]);\r\n\t\tsetIsLoading(true);\r\n\t\t// Viene generato un cancelToken\r\n\t\tconst axiosSource = axios.CancelToken.source();\r\n\t\t// Viene memorizzato nello stato apposito\r\n\t\tsetRequest(axiosSource);\r\n\t\t// Richiesta al server, a cui viene passato anche il cancelToken\r\n\t\tawait axios\r\n\t\t\t.get(\r\n\t\t\t\t`/autocomplete_search?query=${string}&language=${\r\n\t\t\t\t\tprops.language\r\n\t\t\t\t}&endpoint=${props.endpointUrl}&resourceType=${\r\n\t\t\t\t\tresourceType ? resourceType.type.value : \"\"\r\n\t\t\t\t}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tcancelToken: axiosSource.token,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\t// Quando arriva la risposta vengono salvati i suggerimenti nello stato\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tsetSuggestions(response.data);\r\n\t\t\t\t// Viene cancellata la richiesta dallo stato in quanto è stata completata\r\n\t\t\t\tsetRequest(null);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tif (error.message === \"axios request cancelled\") {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"Nuova richiesta ricevuta, questa viene cancellata.\"\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"Errore nell'autocompletamento della ricerca\",\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tconst radioChangeHandler = (event) => {\r\n\t\tsetSearchType(event.target.value);\r\n\t};\r\n\r\n\tasync function submitSearchHandler(event) {\r\n\t\tevent.preventDefault();\r\n\t\tif (searchType === \"rdfs:label\") {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tsetSuggestions([]);\r\n\t\t\t// Viene generato un cancelToken\r\n\t\t\tconst axiosSource = axios.CancelToken.source();\r\n\t\t\t// Viene memorizzato nello stato apposito\r\n\t\t\tsetRequest(axiosSource);\r\n\t\t\t// Richiesta al server, a cui viene passato anche il cancelToken\r\n\t\t\tawait axios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/search_by_label?query=${search}&language=${\r\n\t\t\t\t\t\tprops.language\r\n\t\t\t\t\t}&endpoint=${props.endpointUrl}&resourceType=${\r\n\t\t\t\t\t\tresourceType ? resourceType.type.value : \"\"\r\n\t\t\t\t\t}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcancelToken: axiosSource.token,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t\tprops.setResourcesList(response.data);\r\n\r\n\t\t\t\t\tif (response.data === []) {\r\n\t\t\t\t\t\talert(\"Risorsa con il label inserito non trovata.\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Viene cancellata la richiesta dallo stato in quanto è stata completata\r\n\t\t\t\t\tsetRequest(null);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tif (error.message === \"axios request cancelled\") {\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\"Nuova richiesta ricevuta, questa viene cancellata.\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\"Errore nell'autocompletamento della ricerca\",\r\n\t\t\t\t\t\t\terror\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\twindow.location.href = `/resource?endpoint=${props.endpointUrl}&language=${props.language}&uri=${search}`;\r\n\t\t}\r\n\t}\r\n\t// Variabile che conterrà la lista non ordinata dei suggerimenti (solo se non sarà vuota)\r\n\tconst suggestList = suggestions && (\r\n\t\t<ul id=\"autocomplete-ul\">\r\n\t\t\t{suggestions.map((el, i) => (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName=\"autocomplete-li\"\r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t(window.location.href = `/resource?endpoint=${props.endpointUrl}&language=${props.language}&uri=${el.resource.value}`)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{el.label.value[0]}\r\n\t\t\t\t\t\t<span>{el.resource.value}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</li>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t);\r\n\treturn (\r\n\t\t<Container fluid>\r\n\t\t\t<Row className=\"justify-content-center mb-2\">\r\n\t\t\t\t<span style={{ marginRight: \"1em\", textAlign: \"center\" }}>\r\n\t\t\t\t\tCerca per:\r\n\t\t\t\t</span>\r\n\t\t\t\t<Form.Check\r\n\t\t\t\t\tlabel=\"Label\"\r\n\t\t\t\t\tvalue=\"rdfs:label\"\r\n\t\t\t\t\tchecked={searchType === \"rdfs:label\"}\r\n\t\t\t\t\tid=\"inline-radio-1\"\r\n\t\t\t\t\tonChange={radioChangeHandler}\r\n\t\t\t\t\t{...radioProps}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Check\r\n\t\t\t\t\tlabel=\"URI\"\r\n\t\t\t\t\tvalue=\"URI\"\r\n\t\t\t\t\tchecked={searchType === \"URI\"}\r\n\t\t\t\t\tid=\"inline-radio-2\"\r\n\t\t\t\t\tonChange={radioChangeHandler}\r\n\t\t\t\t\t{...radioProps}\r\n\t\t\t\t/>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={{ span: 2, offset: 2 }} sm={12}>\r\n\t\t\t\t\t<Dropdown style={{ float: \" left \" }}>\r\n\t\t\t\t\t\t<Dropdown.Toggle id=\"dropdown-custom-components\">\r\n\t\t\t\t\t\t\t{resourceType === null\r\n\t\t\t\t\t\t\t\t? \"Any type of resource\"\r\n\t\t\t\t\t\t\t\t: resourceType.label\r\n\t\t\t\t\t\t\t\t? resourceType.label.value\r\n\t\t\t\t\t\t\t\t: resourceType.type.value}\r\n\t\t\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t\t\t<Dropdown.Menu as={CustomMenu}>\r\n\t\t\t\t\t\t\t{props.endpointTypes.map((el, i) => (\r\n\t\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tchangeResourceType(el);\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(el);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{el.label ? el.label.value : el.type.value}\r\n\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t{resourceType !== null && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tid=\"reset-type-btn\"\r\n\t\t\t\t\t\t\tvariant=\"outline-danger\"\r\n\t\t\t\t\t\t\tonClick={() => setResourceType(null)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col md={{ span: 4 }} xs={12}>\r\n\t\t\t\t\t<Form onSubmit={submitSearchHandler}>\r\n\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Type your search\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\tonChange={changeHandler}\r\n\t\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<InputGroup.Append>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tid=\"primary-btn\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</InputGroup.Append>\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t{suggestList}\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t{isLoading && (\r\n\t\t\t\t\t\t<Spinner animation=\"border\" role=\"status\">\r\n\t\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t\t\t</Spinner>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nconst CustomMenu = React.forwardRef(\r\n\t({ children, style, className, \"aria-labelledby\": labeledBy }, ref) => {\r\n\t\tconst [value, setValue] = useState(\"\");\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tref={ref}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={className}\r\n\t\t\t\taria-labelledby={labeledBy}\r\n\t\t\t>\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\tclassName=\"mx-3 my-2 w-auto\"\r\n\t\t\t\t\tplaceholder=\"Type to filter...\"\r\n\t\t\t\t\tonChange={(e) => setValue(e.target.value)}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t/>\r\n\t\t\t\t<ul className=\"list-unstyled\">\r\n\t\t\t\t\t{React.Children.toArray(children).filter(\r\n\t\t\t\t\t\t(child) =>\r\n\t\t\t\t\t\t\t!value ||\r\n\t\t\t\t\t\t\tchild.props.children.toLowerCase().includes(value)\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n","import React from \"react\";\r\nimport Container from \"react-bootstrap/Container\"; //Container\r\n\r\nexport default function SearchResults(props) {\r\n\t//el.resource.value URI della risorsa\r\n\treturn (\r\n\t\t<Container id=\"results-container\">\r\n\t\t\t<h3>{props.resourcesList.length} Resources:</h3>\r\n\t\t\t{props.resourcesList.map((el) => (\r\n\t\t\t\t<Container\r\n\t\t\t\t\tclassName=\"results\"\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t(window.location.href = `/resource?endpoint=${props.endpointUrl}&language=${props.language}&?uri=${el.resource.value}`)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<p className=\"result-title\">{el.label.value}</p>\r\n\t\t\t\t\t<p className=\"result-url\">URI: {el.resource.value}</p>\r\n\t\t\t\t\t<p className=\"result-comment\">\r\n\t\t\t\t\t\t{el.comment.value ||\r\n\t\t\t\t\t\t\t\"No comment avaiable for this resource\"}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</Container>\r\n\t\t\t))}\r\n\t\t</Container>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n// Import del file per lo style Sass\nimport \"./Home.scss\";\n// Import vari per i component bootstrap usati\nimport Container from \"react-bootstrap/Container\"; //Container\nimport Row from \"react-bootstrap/Row\"; //Row\n//Import dei component\nimport Header from \"./Header\";\nimport EndpointSelection from \"./EndpointSelection\";\nimport SearchForm from \"./SearchForm\";\nimport SearchResults from \"./SearchResults\";\n\nfunction App() {\n\t// Stato che conterrà il lingua scelta dall'utente\n\tconst [language, setLanguage] = useState(\n\t\tsessionStorage.getItem(\"language\") || \"it\"\n\t);\n\t// Stato in cui viene memorizzato l'endpoint scelto dall'utente, di default viene utilizzato quello di dbpedia\n\tconst [endpointUrl, setEndpointUrl] = useState(\n\t\tsessionStorage.getItem(\"endpoint\") || \"http://dbpedia.org/sparql\"\n\t);\n\n\t// Stato che conterrà gli rdf:type delle risorse presenti nell'endpoint inserito dall'utente\n\tconst [endpointTypes, setEndpointTypes] = useState([]);\n\n\tconst [resourcesList, setResourcesList] = useState([]);\n\n\t// Funzione che tramite chiamata all'api ottiene gli rdf:type dell'endpoint inserito dall'utente e li salva nello stato.\n\tasync function getEndpointTypes(endpointUrl) {\n\t\tsetEndpointTypes([]);\n\t\tawait axios\n\t\t\t.get(`/get_types?endpoint=${endpointUrl}`)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(response.data);\n\t\t\t\tsetEndpointTypes(response.data);\n\t\t\t});\n\t}\n\t// Quando viene caricata la pagine vengono caricati i dati presenti nel sessionStorage in caso siano già stati salvati altrimenti vengono impostati i valori di default\n\tuseEffect(() => {\n\t\tconst sessionLanguage = sessionStorage.getItem(\"language\");\n\t\tconst sessionEndpoint = sessionStorage.getItem(\"endpoint\");\n\t\tif (sessionLanguage) {\n\t\t\tsetLanguage(sessionLanguage);\n\t\t} else {\n\t\t\tsessionStorage.setItem(\"language\", \"it\");\n\t\t}\n\t\tif (sessionEndpoint) {\n\t\t\tsetEndpointUrl(sessionEndpoint);\n\t\t} else {\n\t\t\tsessionStorage.setItem(\"endpoint\", \"http://dbpedia.org/sparql\");\n\t\t}\n\t\tconsole.log(\"RICHIESTA!\"); // STAMPA DI DEBUG\n\t\tgetEndpointTypes(sessionEndpoint || \"http://dbpedia.org/sparql\");\n\t}, []);\n\n\treturn (\n\t\t<Container fluid id=\"main-container\">\n\t\t\t<Header language={language} setLanguage={setLanguage} />\n\t\t\t{/* Scelta dell'endpoint */}\n\t\t\t<Row id=\"endpoint-form\">\n\t\t\t\t<EndpointSelection\n\t\t\t\t\tendpointUrl={endpointUrl}\n\t\t\t\t\tsetEndpointUrl={setEndpointUrl}\n\t\t\t\t\tgetEndpointTypes={getEndpointTypes}\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t<hr />\n\t\t\t<SearchForm\n\t\t\t\tlanguage={language}\n\t\t\t\tendpointUrl={endpointUrl}\n\t\t\t\tendpointTypes={endpointTypes}\n\t\t\t\tsetResourcesList={setResourcesList}\n\t\t\t/>\n\t\t\t{resourcesList.length > 0 && (\n\t\t\t\t<SearchResults\n\t\t\t\t\tresourcesList={resourcesList}\n\t\t\t\t\tlanguage={language}\n\t\t\t\t\tendpointUrl={endpointUrl}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Container>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Home from \"./home/Home\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Home />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}